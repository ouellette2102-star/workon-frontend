{
  "meta": {
    "generated_at": "2024-12-26",
    "version": "1.0.0",
    "framework": "Flutter + FlutterFlow",
    "state_management": "FFAppState + ValueNotifier"
  },
  "pages": [
    {"name": "OnboardingWidget", "file": "lib/client_part/onboarding/onboarding_widget.dart", "route": "/onboarding", "requiresAuth": false, "flows": ["onboarding"], "states": ["ok"]},
    {"name": "SignInWidget", "file": "lib/client_part/sign_in/sign_in_widget.dart", "route": "/signIn", "requiresAuth": false, "flows": ["auth"], "states": ["loading", "error", "ok"]},
    {"name": "SignUpWidget", "file": "lib/client_part/sign_up/sign_up_widget.dart", "route": "/signUp", "requiresAuth": false, "flows": ["auth"], "states": ["loading", "error", "ok"]},
    {"name": "ResetPasswordWidget", "file": "lib/client_part/reset_password/reset_password_widget.dart", "route": "/resetPassword", "requiresAuth": false, "flows": ["auth", "reset_password"], "states": ["ok", "error"]},
    {"name": "HomeWidget", "file": "lib/client_part/home/home_widget.dart", "route": "/home", "requiresAuth": true, "flows": ["home"], "states": ["ok"]},
    {"name": "CompleteProfleWidget", "file": "lib/client_part/complete_profle/complete_profle_widget.dart", "route": "/completeProfle", "requiresAuth": true, "flows": ["profile_setup"], "states": ["ok"]},
    {"name": "InterviewUserWidget", "file": "lib/client_part/interview_user/interview_user_widget.dart", "route": "/interviewUser", "requiresAuth": true, "flows": ["profile_setup"], "states": ["ok"]},
    {"name": "AccountWidget", "file": "lib/client_part/profile_pages/account/account_widget.dart", "route": "/account", "requiresAuth": true, "flows": ["profile"], "states": ["ok"]},
    {"name": "EditProfileWidget", "file": "lib/client_part/profile_pages/edit_profile/edit_profile_widget.dart", "route": "/editProfile", "requiresAuth": true, "flows": ["profile"], "states": ["ok"]},
    {"name": "SettingsWidget", "file": "lib/client_part/profile_pages/settings/settings_widget.dart", "route": "/settings", "requiresAuth": true, "flows": ["settings"], "states": ["ok"]},
    {"name": "NotificationSettingsWidget", "file": "lib/client_part/profile_pages/notification_settings/notification_settings_widget.dart", "route": "/notificationSettings", "requiresAuth": true, "flows": ["settings"], "states": ["ok"]},
    {"name": "LanguageSettingsWidget", "file": "lib/client_part/profile_pages/language_settings/language_settings_widget.dart", "route": "/languageSettings", "requiresAuth": true, "flows": ["settings"], "states": ["ok"]},
    {"name": "DeleteAccountWidget", "file": "lib/client_part/profile_pages/delete_account/delete_account_widget.dart", "route": "/deleteAccount", "requiresAuth": true, "flows": ["settings"], "states": ["ok"]},
    {"name": "ChangeEmailWidget", "file": "lib/client_part/profile_pages/change_email/change_email_widget.dart", "route": "/changeEmail", "requiresAuth": true, "flows": ["settings"], "states": ["ok"]},
    {"name": "HelpCenterWidget", "file": "lib/client_part/profile_pages/help_center/help_center_widget.dart", "route": "/helpCenter", "requiresAuth": true, "flows": ["help"], "states": ["ok"]},
    {"name": "CustomerSupportWidget", "file": "lib/client_part/profile_pages/customer_support/customer_support_widget.dart", "route": "/customerSupport", "requiresAuth": true, "flows": ["help"], "states": ["ok"]},
    {"name": "TermsOfServiceWidget", "file": "lib/client_part/profile_pages/terms_of_service/terms_of_service_widget.dart", "route": "/termsOfService", "requiresAuth": false, "flows": ["legal"], "states": ["ok"]},
    {"name": "PrivacyPolicyWidget", "file": "lib/client_part/profile_pages/privacy_policy/privacy_policy_widget.dart", "route": "/privacyPolicy", "requiresAuth": false, "flows": ["legal"], "states": ["ok"]},
    {"name": "AboutWidget", "file": "lib/client_part/profile_pages/about/about_widget.dart", "route": "/about", "requiresAuth": true, "flows": ["settings"], "states": ["ok"]},
    {"name": "InviteFriendsWidget", "file": "lib/client_part/profile_pages/invite_friends/invite_friends_widget.dart", "route": "/inviteFriends", "requiresAuth": true, "flows": ["referral"], "states": ["ok"]},
    {"name": "PaymentMethodsWidget", "file": "lib/client_part/profile_pages/payment_methods/payment_methods_widget.dart", "route": "/paymentMethods", "requiresAuth": true, "flows": ["payment"], "states": ["ok"]},
    {"name": "AddNewCardWidget", "file": "lib/client_part/profile_pages/add_new_card/add_new_card_widget.dart", "route": "/addNewCard", "requiresAuth": true, "flows": ["payment"], "states": ["ok"]},
    {"name": "MyAddressWidget", "file": "lib/client_part/profile_pages/my_address/my_address_widget.dart", "route": "/myAddress", "requiresAuth": true, "flows": ["address"], "states": ["ok"]},
    {"name": "AddNewAddressWidget", "file": "lib/client_part/add_new_address/add_new_address_widget.dart", "route": "/addNewAddress", "requiresAuth": true, "flows": ["address"], "states": ["ok"]},
    {"name": "NotificationsWidget", "file": "lib/client_part/notifications/notifications_widget.dart", "route": "/notifications", "requiresAuth": true, "flows": ["notifications"], "states": ["ok", "empty"]},
    {"name": "MessagesWidget", "file": "lib/client_part/messages/messages_widget.dart", "route": "/messages", "requiresAuth": true, "flows": ["messaging"], "states": ["ok", "empty"]},
    {"name": "ChatWidget", "file": "lib/client_part/chat/chat_widget.dart", "route": "/chat", "requiresAuth": true, "flows": ["messaging"], "states": ["ok"]},
    {"name": "VideoCallWidget", "file": "lib/client_part/video_call/video_call_widget.dart", "route": "/videoCall", "requiresAuth": true, "flows": ["messaging"], "states": ["ok"]},
    {"name": "VoiceCallWidget", "file": "lib/client_part/voice_call/voice_call_widget.dart", "route": "/voiceCall", "requiresAuth": true, "flows": ["messaging"], "states": ["ok"]},
    {"name": "SearchWidget", "file": "lib/client_part/search/search_widget.dart", "route": "/search", "requiresAuth": true, "flows": ["search"], "states": ["ok"]},
    {"name": "SearchResultsWidget", "file": "lib/client_part/search_results/search_results_widget.dart", "route": "/searchResults", "requiresAuth": true, "flows": ["search"], "states": ["ok", "empty"]},
    {"name": "SingleCategoryWidget", "file": "lib/client_part/single_category/single_category_widget.dart", "route": "/singleCategory", "requiresAuth": true, "flows": ["catalogue"], "states": ["ok"]},
    {"name": "ServiceDetailsWidget", "file": "lib/client_part/service_details/service_details_widget.dart", "route": "/serviceDetails", "requiresAuth": true, "flows": ["catalogue"], "states": ["ok"]},
    {"name": "ProviderPublicProfileWidget", "file": "lib/client_part/provider_public_profile/provider_public_profile_widget.dart", "route": "/providerPublicProfile", "requiresAuth": true, "flows": ["catalogue"], "states": ["ok"]},
    {"name": "AllReviewsWidget", "file": "lib/client_part/all_reviews/all_reviews_widget.dart", "route": "/allReviews", "requiresAuth": true, "flows": ["ratings"], "states": ["ok", "empty"]},
    {"name": "ReportServiceWidget", "file": "lib/client_part/report_service/report_service_widget.dart", "route": "/reportService", "requiresAuth": true, "flows": ["dispute"], "states": ["ok"]},
    {"name": "BookingsWidget", "file": "lib/client_part/bookings/bookings_widget.dart", "route": "/bookings", "requiresAuth": true, "flows": ["booking"], "states": ["ok", "empty"]},
    {"name": "BookingDetailsWidget", "file": "lib/client_part/booking_details/booking_details_widget.dart", "route": "/bookingDetails", "requiresAuth": true, "flows": ["booking"], "states": ["ok"]},
    {"name": "RescheduleBookingWidget", "file": "lib/client_part/reschedule_booking/reschedule_booking_widget.dart", "route": "/rescheduleBooking", "requiresAuth": true, "flows": ["booking"], "states": ["ok"]},
    {"name": "CancelBookingWidget", "file": "lib/client_part/cancel_booking/cancel_booking_widget.dart", "route": "/cancelBooking", "requiresAuth": true, "flows": ["booking"], "states": ["ok"]},
    {"name": "LeaveReviewWidget", "file": "lib/client_part/leave_review/leave_review_widget.dart", "route": "/leaveReview", "requiresAuth": true, "flows": ["ratings"], "states": ["ok"]},
    {"name": "BookAgainWidget", "file": "lib/client_part/booking_pages/book_again/book_again_widget.dart", "route": "/bookAgain", "requiresAuth": true, "flows": ["booking"], "states": ["ok"]},
    {"name": "BookmarksWidget", "file": "lib/client_part/bookmarks/bookmarks_widget.dart", "route": "/bookmarks", "requiresAuth": true, "flows": ["favorites"], "states": ["ok", "empty"]},
    {"name": "ReviewSummaryWidget", "file": "lib/client_part/booking_pages/review_summary/review_summary_widget.dart", "route": "/reviewSummary", "requiresAuth": true, "flows": ["checkout"], "states": ["ok"]},
    {"name": "ChooseAddressWidget", "file": "lib/client_part/booking_pages/choose_address/choose_address_widget.dart", "route": "/chooseAddress", "requiresAuth": true, "flows": ["checkout"], "states": ["ok"]},
    {"name": "AddInformationWidget", "file": "lib/client_part/booking_pages/add_information/add_information_widget.dart", "route": "/addInformation", "requiresAuth": true, "flows": ["checkout"], "states": ["ok"]},
    {"name": "SelectServicesWidget", "file": "lib/client_part/booking_pages/select_services/select_services_widget.dart", "route": "/selectServices", "requiresAuth": true, "flows": ["checkout"], "states": ["ok"]},
    {"name": "SetDateAndAddressWidget", "file": "lib/client_part/booking_pages/set_date_and_address/set_date_and_address_widget.dart", "route": "/setDateAndAddress", "requiresAuth": true, "flows": ["checkout"], "states": ["ok"]},
    {"name": "ChoosePaymentMethodWidget", "file": "lib/client_part/booking_pages/choose_payment_method/choose_payment_method_widget.dart", "route": "/choosePaymentMethod", "requiresAuth": true, "flows": ["checkout", "stripe"], "states": ["ok"]},
    {"name": "ClientPublicProfileWidget", "file": "lib/client_part/client_public_profile/client_public_profile_widget.dart", "route": "/clientPublicProfile", "requiresAuth": true, "flows": ["profile"], "states": ["ok"]},
    {"name": "ProviderRegistrationWidget", "file": "lib/provider_part/provider_registration/provider_registration_widget.dart", "route": "/providerRegistration", "requiresAuth": true, "flows": ["provider_onboarding"], "states": ["ok"]},
    {"name": "HomeProviderWidget", "file": "lib/provider_part/home_provider/home_provider_widget.dart", "route": "/homeProvider", "requiresAuth": true, "flows": ["provider_home"], "states": ["ok"]},
    {"name": "JobRequestsWidget", "file": "lib/provider_part/job_requests/job_requests_widget.dart", "route": "/jobRequests", "requiresAuth": true, "flows": ["provider_jobs"], "states": ["ok", "empty"]},
    {"name": "JobsWidget", "file": "lib/provider_part/jobs/jobs_widget.dart", "route": "/jobs", "requiresAuth": true, "flows": ["provider_jobs"], "states": ["ok", "empty"]},
    {"name": "JobDetailsWidget", "file": "lib/provider_part/job_details/job_details_widget.dart", "route": "/jobDetails", "requiresAuth": true, "flows": ["provider_jobs"], "states": ["ok"]},
    {"name": "RequestDetailsWidget", "file": "lib/provider_part/request_details/request_details_widget.dart", "route": "/requestDetails", "requiresAuth": true, "flows": ["provider_jobs"], "states": ["ok"]},
    {"name": "EarningsWidget", "file": "lib/provider_part/earnings/earnings_widget.dart", "route": "/earnings", "requiresAuth": true, "flows": ["provider_earnings"], "states": ["ok"]},
    {"name": "TransactionsProviderWidget", "file": "lib/provider_part/transactions_provider/transactions_provider_widget.dart", "route": "/transactionsProvider", "requiresAuth": true, "flows": ["provider_earnings"], "states": ["ok", "empty"]},
    {"name": "TransactionDetailsWidget", "file": "lib/provider_part/transaction_details/transaction_details_widget.dart", "route": "/transactionDetails", "requiresAuth": true, "flows": ["provider_earnings"], "states": ["ok"]},
    {"name": "UpdatePayoutAccountWidget", "file": "lib/provider_part/update_payout_account/update_payout_account_widget.dart", "route": "/updatePayoutAccount", "requiresAuth": true, "flows": ["provider_stripe"], "states": ["ok"]},
    {"name": "ServicesWidget", "file": "lib/provider_part/services/services_widget.dart", "route": "/services", "requiresAuth": true, "flows": ["provider_services"], "states": ["ok", "empty"]},
    {"name": "AddNewServiceWidget", "file": "lib/provider_part/add_new_service/add_new_service_widget.dart", "route": "/addNewService", "requiresAuth": true, "flows": ["provider_services"], "states": ["ok"]},
    {"name": "RatingsWidget", "file": "lib/provider_part/ratings/ratings_widget.dart", "route": "/ratings", "requiresAuth": true, "flows": ["provider_ratings"], "states": ["ok", "empty"]},
    {"name": "ProfileWidget", "file": "lib/provider_part/provider_profile_pages/profile/profile_widget.dart", "route": "/profile", "requiresAuth": true, "flows": ["provider_profile"], "states": ["ok"]},
    {"name": "EditProviderProfileWidget", "file": "lib/provider_part/provider_profile_pages/edit_provider_profile/edit_provider_profile_widget.dart", "route": "/editProviderProfile", "requiresAuth": true, "flows": ["provider_profile"], "states": ["ok"]},
    {"name": "AvailabilityWidget", "file": "lib/provider_part/provider_profile_pages/availability/availability_widget.dart", "route": "/availability", "requiresAuth": true, "flows": ["provider_profile"], "states": ["ok"]},
    {"name": "ServiceAreaWidget", "file": "lib/provider_part/provider_profile_pages/service_area/service_area_widget.dart", "route": "/serviceArea", "requiresAuth": true, "flows": ["provider_profile"], "states": ["ok"]},
    {"name": "PricingPlansWidget", "file": "lib/provider_part/provider_profile_pages/pricing_plans/pricing_plans_widget.dart", "route": "/pricingPlans", "requiresAuth": true, "flows": ["provider_subscription"], "states": ["ok"]},
    {"name": "MySubscriptionWidget", "file": "lib/provider_part/provider_profile_pages/my_subscription/my_subscription_widget.dart", "route": "/mySubscription", "requiresAuth": true, "flows": ["provider_subscription"], "states": ["ok"]},
    {"name": "ShareExperienceWidget", "file": "lib/provider_part/share_experience/share_experience_widget.dart", "route": "/shareExperience", "requiresAuth": true, "flows": ["provider_profile"], "states": ["ok"]},
    {"name": "MessagesProviderWidget", "file": "lib/provider_part/messages_provider/messages_provider_widget.dart", "route": "/messagesProvider", "requiresAuth": true, "flows": ["provider_messaging"], "states": ["ok", "empty"]},
    {"name": "NotificationsProviderWidget", "file": "lib/provider_part/notifications_provider/notifications_provider_widget.dart", "route": "/notificationsProvider", "requiresAuth": true, "flows": ["provider_notifications"], "states": ["ok", "empty"]}
  ],
  "apiCalls": [
    {"method": "POST", "path": "/api/v1/auth/login", "file": "lib/services/auth/real_auth_repository.dart", "payload": "{email, password}", "response": "{accessToken, user}", "auth": false},
    {"method": "POST", "path": "/api/v1/auth/register", "file": "lib/services/auth/real_auth_repository.dart", "payload": "{email, password, name?}", "response": "{accessToken, user}", "auth": false},
    {"method": "GET", "path": "/api/v1/auth/me", "file": "lib/services/auth/real_auth_repository.dart", "payload": "none", "response": "AuthUser", "auth": true},
    {"method": "POST", "path": "/api/v1/auth/logout", "file": "lib/services/auth/real_auth_repository.dart", "payload": "none", "response": "void", "auth": true},
    {"method": "GET", "path": "/api/v1/auth/me", "file": "lib/services/user/user_api.dart", "payload": "none", "response": "{role, ...profile}", "auth": true}
  ],
  "missingApiCalls": [
    {"flow": "reset_password", "endpoints": ["POST /api/v1/auth/forgot-password", "POST /api/v1/auth/reset-password"], "status": "NOT_WIRED"},
    {"flow": "profile_update", "endpoints": ["PATCH /api/v1/users/me"], "status": "NOT_WIRED"},
    {"flow": "missions", "endpoints": ["GET /api/v1/missions/nearby", "POST /api/v1/missions", "POST /api/v1/missions/:id/accept"], "status": "NOT_WIRED"},
    {"flow": "bookings", "endpoints": ["GET /api/v1/bookings", "POST /api/v1/bookings"], "status": "NOT_WIRED"},
    {"flow": "payments", "endpoints": ["POST /api/v1/payments/intent", "GET /api/v1/payments/connect/onboarding"], "status": "NOT_WIRED"},
    {"flow": "messages", "endpoints": ["GET /api/v1/messages/thread/:id", "POST /api/v1/messages"], "status": "NOT_WIRED"},
    {"flow": "notifications", "endpoints": ["GET /api/v1/notifications", "PATCH /api/v1/notifications/read-all"], "status": "NOT_WIRED"},
    {"flow": "ratings", "endpoints": ["POST /api/v1/ratings", "GET /api/v1/ratings"], "status": "NOT_WIRED"},
    {"flow": "contracts", "endpoints": ["GET /api/v1/contracts/user/me", "PATCH /api/v1/contracts/:id/status"], "status": "NOT_WIRED"}
  ],
  "env": [
    {"name": "dart.vm.product", "used_in": ["lib/config/app_config.dart"], "notes": "Detects production build"},
    {"name": "API_BASE_URL (hardcoded)", "used_in": ["lib/config/app_config.dart"], "notes": "Railway URLs hardcoded, no env var"}
  ],
  "gaps": [
    {"area": "auth", "issue": "Reset password flow not wired to backend API - only UI mockup exists", "severity": "high", "fix_pr": "PR-F01"},
    {"area": "auth", "issue": "Social login buttons (Google/Apple/Facebook) are UI only - no implementation", "severity": "med", "fix_pr": "PR-F02"},
    {"area": "auth", "issue": "No token refresh mechanism - tokens expire and require re-login", "severity": "med", "fix_pr": "PR-F03"},
    {"area": "auth", "issue": "No SecureStorage - tokens are in memory only, lost on app restart", "severity": "high", "fix_pr": "PR-F04"},
    {"area": "profile", "issue": "Profile update (EditProfile) not wired to PATCH /users/me", "severity": "med", "fix_pr": "PR-F05"},
    {"area": "profile", "issue": "Delete account not wired to backend", "severity": "med", "fix_pr": "PR-F06"},
    {"area": "profile", "issue": "Change email not wired to backend", "severity": "med", "fix_pr": "PR-F07"},
    {"area": "missions", "issue": "No mission API integration - all data is mock/static", "severity": "high", "fix_pr": "PR-F08"},
    {"area": "bookings", "issue": "No booking API integration - all data is mock/static", "severity": "high", "fix_pr": "PR-F09"},
    {"area": "payments", "issue": "No Stripe integration - payment screens are UI only", "severity": "high", "fix_pr": "PR-F10"},
    {"area": "messaging", "issue": "No WebSocket/real-time messaging - chat is static UI", "severity": "high", "fix_pr": "PR-F11"},
    {"area": "notifications", "issue": "No push notifications - notifications screen is static", "severity": "med", "fix_pr": "PR-F12"},
    {"area": "ratings", "issue": "Leave review not wired to backend", "severity": "med", "fix_pr": "PR-F13"},
    {"area": "search", "issue": "Search not wired to backend - static UI only", "severity": "med", "fix_pr": "PR-F14"},
    {"area": "validation", "issue": "Password validation is basic (no complexity rules)", "severity": "low", "fix_pr": "PR-F15"},
    {"area": "error_handling", "issue": "Empty states not shown on many list screens", "severity": "low", "fix_pr": "PR-F16"},
    {"area": "error_handling", "issue": "No retry mechanism on network errors", "severity": "med", "fix_pr": "PR-F17"},
    {"area": "localization", "issue": "Some error messages hardcoded in French instead of using FFLocalizations", "severity": "low", "fix_pr": "PR-F18"},
    {"area": "branding", "issue": "App shows 'Sparkly' branding instead of 'WorkOn' in some places", "severity": "med", "fix_pr": "PR-F19"},
    {"area": "security", "issue": "No biometric authentication option", "severity": "low", "fix_pr": "PR-F20"},
    {"area": "offline", "issue": "No offline mode / data caching", "severity": "med", "fix_pr": "PR-F21"},
    {"area": "provider", "issue": "Provider registration flow not wired to backend", "severity": "high", "fix_pr": "PR-F22"},
    {"area": "provider", "issue": "Provider earnings/transactions not wired to backend", "severity": "high", "fix_pr": "PR-F23"},
    {"area": "address", "issue": "Address management not wired to backend", "severity": "med", "fix_pr": "PR-F24"}
  ],
  "flows": {
    "onboarding": {"status": "OK", "screens": ["OnboardingWidget"], "notes": "Simple carousel, links to SignIn/SignUp"},
    "auth": {"status": "PARTIAL", "screens": ["SignInWidget", "SignUpWidget", "ResetPasswordWidget"], "notes": "Login/register work. Reset password UI only. Social login not implemented."},
    "reset_password": {"status": "NOT_IMPLEMENTED", "screens": ["ResetPasswordWidget"], "notes": "UI exists but no backend integration"},
    "profile_worker": {"status": "UI_ONLY", "screens": ["AccountWidget", "EditProfileWidget", "CompleteProfleWidget"], "notes": "UI exists, no backend integration"},
    "profile_employer": {"status": "UI_ONLY", "screens": ["AccountWidget", "EditProfileWidget"], "notes": "UI exists, no backend integration"},
    "catalogue": {"status": "UI_ONLY", "screens": ["SingleCategoryWidget", "SearchWidget", "ServiceDetailsWidget"], "notes": "Static UI, no backend data"},
    "recherche_map": {"status": "NOT_FOUND", "screens": [], "notes": "No map-based search screen found"},
    "swipe": {"status": "NOT_FOUND", "screens": [], "notes": "No swipe-based mission discovery found"},
    "creation_mission": {"status": "NOT_FOUND", "screens": [], "notes": "No mission creation screen found for employers"},
    "checkout_stripe": {"status": "UI_ONLY", "screens": ["ChoosePaymentMethodWidget", "ReviewSummaryWidget"], "notes": "Stripe SDK not integrated"},
    "messagerie": {"status": "UI_ONLY", "screens": ["MessagesWidget", "ChatWidget"], "notes": "Static UI, no real-time messaging"},
    "notifications": {"status": "UI_ONLY", "screens": ["NotificationsWidget"], "notes": "Static UI, no push notifications"},
    "ratings": {"status": "UI_ONLY", "screens": ["LeaveReviewWidget", "AllReviewsWidget", "RatingsWidget"], "notes": "Static UI, no backend integration"},
    "litiges": {"status": "UI_ONLY", "screens": ["ReportServiceWidget"], "notes": "Report form exists but not wired"},
    "settings": {"status": "OK", "screens": ["SettingsWidget", "NotificationSettingsWidget", "LanguageSettingsWidget"], "notes": "Local settings work"},
    "legal": {"status": "OK", "screens": ["TermsOfServiceWidget", "PrivacyPolicyWidget"], "notes": "Static content pages"}
  }
}

